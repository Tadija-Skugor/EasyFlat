{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tadija\\\\Documents\\\\GitHub\\\\Progi-Projekt\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [searchResults, setSearchResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const fetchSearchResults = async query => {\n    try {\n      setLoading(true);\n      setError(null);\n      const url = query ? `http://localhost:4000/fetchDiscusion/search` // FETCH ZA FILTER, ISTO RUTER\n      : `http://localhost:4000/fetchDiscusion/all`; //FETCH ZA SVE, TO CEMO U RUTER\n\n      const response = await axios.get(url, {\n        params: query ? {\n          query\n        } : {} //salji sam u 1. slucaju ako je search\n      });\n      setSearchResults(response.data);\n    } catch (err) {\n      setError(`Fali backend za rezultat; ${query ? `Upit koji je poslan je ovaj: ${query}` : \"Svi rezultati nisu dostupni\"}`);\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const searchQuery = params.get('search_query');\n\n    // Fetch funkcija, na njoj radimo\n    fetchSearchResults(searchQuery);\n  }, [location.search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"HOME STRANICA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Ovdje ce se nalaziti na\\u0161a po\\u010Detna home stranica. U njoj ce biti diskusije.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 91\n      }, this), \"Neki message board i voting sustav\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading search results...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: searchResults.map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: result\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"PrSCVsURNcIufANUcFbUmJZqaAA=\", false, function () {\n  return [useLocation];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","axios","jsxDEV","_jsxDEV","Home","_s","searchResults","setSearchResults","loading","setLoading","error","setError","location","fetchSearchResults","query","url","response","get","params","data","err","console","URLSearchParams","search","searchQuery","children","fileName","_jsxFileName","lineNumber","columnNumber","map","result","index","_c","$RefreshReg$"],"sources":["C:/Users/Tadija/Documents/GitHub/Progi-Projekt/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default function Home() {\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const location = useLocation();\r\n\r\n    const fetchSearchResults = async (query) => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n\r\n            const url = query\r\n                ? `http://localhost:4000/fetchDiscusion/search` // FETCH ZA FILTER, ISTO RUTER\r\n                : `http://localhost:4000/fetchDiscusion/all`;   //FETCH ZA SVE, TO CEMO U RUTER\r\n\r\n            const response = await axios.get(url, {\r\n                params: query ? { query } : {}, //salji sam u 1. slucaju ako je search\r\n            });\r\n\r\n            setSearchResults(response.data);\r\n        } catch (err) {\r\n            setError(\r\n                `Fali backend za rezultat; ${\r\n                    query ? `Upit koji je poslan je ovaj: ${query}` : \"Svi rezultati nisu dostupni\"\r\n                }`\r\n            );\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(location.search);\r\n        const searchQuery = params.get('search_query');\r\n\r\n        // Fetch funkcija, na njoj radimo\r\n        fetchSearchResults(searchQuery);\r\n    }, [location.search]);\r\n\r\n    return (\r\n        <div>\r\n            <h1>HOME STRANICA</h1>\r\n            <p>\r\n                Ovdje ce se nalaziti naša početna home stranica. U njoj ce biti diskusije.<br />\r\n                Neki message board i voting sustav\r\n            </p>\r\n\r\n            {loading ? (\r\n                <p>Loading search results...</p>\r\n            ) : error ? (\r\n                <p>{error}</p>\r\n            ) : (\r\n                <ul>\r\n                    {searchResults.map((result, index) => (\r\n                        <li key={index}>{result}</li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}